window.ripples={init:function(e){"use strict";function t(e,t){return(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector).call(e,t)}var n=function(e,n,o){"string"==typeof e&&(e=[e]),e.forEach(function(e){document.addEventListener(e,function(e){var r="number"!=typeof e.detail?e.detail:e.target;t(r,n)&&o(e,r)})})},o=function(e,t,n){var o=t,r=o.parentNode,i=document.createElement("div"),c=r.getBoundingClientRect(),l={x:e.clientX-c.left,y:(window.ontouchstart?e.clientY-window.scrollY:e.clientY)-c.top},p="scale("+Math.round(o.offsetWidth/5)+")",s=new CustomEvent("rippleEnd",{detail:i});e.touches&&(l={x:e.touches[0].clientX-c.left,y:e.touches[0].clientY-c.top}),console.log(l),a=i,i.className="ripple",i.setAttribute("style","left:"+l.x+"px; top:"+l.y+"px;");var u=window.getComputedStyle(r).color;u=u.replace("rgb","rgba").replace(")",", 0.1)"),o.appendChild(i),window.getComputedStyle(i).opacity,i.dataset.animating=1,i.className="ripple ripple-on";var m=[i.getAttribute("style"),"background-color: "+u,"-ms-transform: "+p,"-moz-transform"+p,"-webkit-transform"+p,"transform: "+p];i.setAttribute("style",m.join(";")),setTimeout(function(){i.dataset.animating=0,document.dispatchEvent(s),n&&n()},500)},r=function(e){e.className="ripple ripple-on ripple-out",setTimeout(function(){e.remove()},100)},i=!1;n(["mousedown","touchstart"],"*",function(){i=!0}),n(["mouseup","touchend"],"*",function(){i=!1});var a;n(["mouseover","touchstart"],e,function(e,t){if(0===t.getElementsByClassName("ripple-wrapper").length){t.className+=" withripple";var n=document.createElement("div");n.className="ripple-wrapper",t.appendChild(n),null===window.ontouchstart&&o(e,n,function(){n.getElementsByClassName("ripple")[0].remove()})}}),n(["mousedown","touchstart"],".ripple-wrapper",function(e,t){(0===e.which||1===e.which||2===e.which)&&o(e,t)}),n("rippleEnd",".ripple-wrapper .ripple",function(e,t){var n=t.parentNode.getElementsByClassName("ripple");(!i||n[0]==t&&n.length>1)&&r(t)}),n(["mouseup","touchend"],".ripple-wrapper",function(){var e=a;e&&1!=e.dataset.animating&&r(e)})}};